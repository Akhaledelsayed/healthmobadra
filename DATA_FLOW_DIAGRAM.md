# Data Flow Diagram - Backend-Mobile Integration

## Real-Time System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HEALTH MONITORING SYSTEM                              â”‚
â”‚                                                                               â”‚
â”‚  Every 5 Seconds:        Every 2 Seconds:           Continuous:            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Vitals     â”‚        â”‚   Mobile     â”‚         â”‚  Dashboard   â”‚          â”‚
â”‚  â”‚ Generator    â”‚        â”‚   App        â”‚         â”‚   Web        â”‚          â”‚
â”‚  â”‚              â”‚        â”‚              â”‚         â”‚              â”‚          â”‚
â”‚  â”‚ Generates:   â”‚        â”‚ Fetches:     â”‚         â”‚ Monitors:    â”‚          â”‚
â”‚  â”‚ â€¢ Heart Rate â”‚        â”‚ â€¢ /patients  â”‚         â”‚ â€¢ /alerts    â”‚          â”‚
â”‚  â”‚ â€¢ Temp       â”‚        â”‚ â€¢ /vitals    â”‚         â”‚ â€¢ /dashboard â”‚          â”‚
â”‚  â”‚ â€¢ SpO2       â”‚        â”‚ â€¢ /alerts    â”‚         â”‚              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                       â”‚                        â”‚                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                     â”‚                        â”‚                              â”‚
â”‚                     â–¼                        â–¼                              â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚            â”‚    hospital.db   â”‚    â”‚   FastAPI        â”‚                    â”‚
â”‚            â”‚    (SQLite)      â”‚â—„â”€â”€â–ºâ”‚   Server         â”‚                    â”‚
â”‚            â”‚                  â”‚    â”‚   (:8000)        â”‚                    â”‚
â”‚            â”‚  Tables:         â”‚    â”‚                  â”‚                    â”‚
â”‚            â”‚  â€¢ patients      â”‚    â”‚  7 Endpoints:   â”‚                    â”‚
â”‚            â”‚  â€¢ vitals        â”‚    â”‚  â€¢ /            â”‚                    â”‚
â”‚            â”‚  â€¢ predictions   â”‚    â”‚  â€¢ /patients    â”‚                    â”‚
â”‚            â”‚  â€¢ alerts        â”‚    â”‚  â€¢ /vitals/{id} â”‚                    â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â€¢ /alerts      â”‚                    â”‚
â”‚                                     â”‚  â€¢ /dashboard   â”‚                    â”‚
â”‚                     â–²                â”‚                  â”‚                    â”‚
â”‚                     â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                     â”‚                        â–²                              â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚        â”‚                         â”‚                        â”‚                 â”‚
â”‚    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”              â”‚
â”‚    â”‚   AI   â”‚            â”‚  Flutter    â”‚        â”‚  Browser  â”‚              â”‚
â”‚    â”‚Predictor           â”‚  Mobile App â”‚        â”‚  (Web)    â”‚              â”‚
â”‚    â”‚        â”‚            â”‚             â”‚        â”‚           â”‚              â”‚
â”‚    â”‚ Makes  â”‚            â”‚ Display:    â”‚        â”‚ Shows:    â”‚              â”‚
â”‚    â”‚ Risk   â”‚            â”‚ â€¢ Vitals    â”‚        â”‚ â€¢ Stats   â”‚              â”‚
â”‚    â”‚Analysis â”‚           â”‚ â€¢ Status    â”‚        â”‚ â€¢ Trends  â”‚              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â€¢ Alerts    â”‚        â”‚ â€¢ Logs    â”‚              â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Request Flow

```
                                FLUTTER APP
                               (api_service.dart)
                                     â”‚
                                     â”‚
                    ApiService apiService = ApiService();
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                â”‚                â”‚
                    â–¼                â–¼                â–¼
          fetchData()         fetchAlerts()    fetchDashboardSummary()
                    â”‚                â”‚                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  HTTP Request (with timeout)        â”‚
                    â”‚  GET /endpoint                      â”‚
                    â”‚  Timeout: 10 seconds                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Network (WiFi/Emulator Network)    â”‚
                    â”‚  Android Emulator: 10.0.2.2:8000   â”‚
                    â”‚  Physical Device: <PC-IP>:8000     â”‚
                    â”‚  Web/Chrome: 127.0.0.1:8000        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  FastAPI Server (api.py)            â”‚
                    â”‚  Receives request                   â”‚
                    â”‚  Routes to endpoint handler         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Query Database                      â”‚
                    â”‚  Hospital.db (SQLite)              â”‚
                    â”‚  SELECT * FROM patients/vitals...   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Format JSON Response               â”‚
                    â”‚  {                                  â”‚
                    â”‚    "patient_id": "P001",           â”‚
                    â”‚    "full_name": "Ahmed",           â”‚
                    â”‚    "heart_rate_bpm": 85,           â”‚
                    â”‚    ...                             â”‚
                    â”‚  }                                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Send HTTP Response (JSON)          â”‚
                    â”‚  Status: 200 OK                     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Network (Same path back)           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Flutter Receives Response           â”‚
                    â”‚  Parses JSON using models          â”‚
                    â”‚  (PatientData.fromJson())          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  setState() - Update UI             â”‚
                    â”‚  Display data on screen             â”‚
                    â”‚  Show vitals, status, alerts       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                SCREEN
                          (Home Dashboard)
```

## Data Update Timeline

```
Timeline (for Patient P001)

Time    Backend                Mobile App              Display
â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€

T=0s    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Vitals Gen  â”‚        
        â”‚ Generates   â”‚        
        â”‚ HR=80       â”‚        
        â”‚ Temp=37.0Â°C â”‚        
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚
T=2s                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ fetchData() called   â”‚
                              â”‚ (Auto-refresh timer) â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                    GET /patients
                                         â”‚
                                         â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ Receive: HR=80      â”‚
                              â”‚ Update: UI          â”‚
                              â”‚ Display: â¤ï¸ 80      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

T=4s                                                 âœ… Shows HR=80

T=5s    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Vitals Gen   â”‚        
        â”‚ Generates    â”‚        
        â”‚ HR=82        â”‚        
        â”‚ Temp=37.1Â°C  â”‚        
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
T=7s                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ fetchData() called   â”‚
                              â”‚ (Timer again)       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                    GET /patients
                                         â”‚
                                         â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ Receive: HR=82      â”‚
                              â”‚ Update: UI          â”‚
                              â”‚ Display: â¤ï¸ 82      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

T=7s                                               âœ… Shows HR=82

... continues every 2 seconds ...
```

## Component Interaction Sequence

```
    Flutter App          API Server           Database           AI Engine
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
    1. User opens          â”‚                    â”‚                  â”‚
       Home Screen         â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
    2. Timer triggers      â”‚                    â”‚                  â”‚
       _fetchData()        â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
    3. GET /patients â”€â”€â”€â”€â”€â”€â–ºâ”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚                 4. Query â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚                    â”‚â—„â”€â”€â”€â”€ Return data â”€â”€â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚ (Meanwhile)        â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚ New vitals       â”‚
       â”‚                    â”‚                    â”‚ generated â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚        AI        â”‚
       â”‚                    â”‚                    â”‚      Predicts    â”‚
       â”‚                    â”‚                    â”‚                  â”‚
    5. JSON Response â—„â”€â”€â”€â”€â”€â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
    6. Parse & Display     â”‚                    â”‚                  â”‚
       â¤ï¸ 82 bpm           â”‚                    â”‚                  â”‚
       ğŸŒ¡ï¸ 37.1Â°C           â”‚                    â”‚                  â”‚
       ğŸ“Š Low Risk          â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
    7. Wait 2 seconds      â”‚                    â”‚                  â”‚
       â”‚                    â”‚                    â”‚                  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       (repeat from step 2)
```

## File Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FLUTTER APP (lib/)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  main.dart                                                   â”‚
â”‚     â”œâ”€â”€ imports                                             â”‚
â”‚     â””â”€â”€â–º Home Dashboard Screen.dart                         â”‚
â”‚             â”œâ”€â”€ imports                                     â”‚
â”‚             â””â”€â”€â–º api_service.dart â—„â”€â”€â”€â”€â”€â”                  â”‚
â”‚                      â”œâ”€â”€ PatientData      â”‚ Uses            â”‚
â”‚                      â”œâ”€â”€ VitalSign        â”‚ Models          â”‚
â”‚                      â”œâ”€â”€ AlertData        â”‚ and             â”‚
â”‚                      â”œâ”€â”€ DashboardSummary â”‚ Methods         â”‚
â”‚                      â””â”€â”€ ApiService â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                            â”‚                               â”‚
â”‚                            â”œâ”€ checkConnection()            â”‚
â”‚                            â”œâ”€ fetchData()                  â”‚
â”‚                            â”œâ”€ fetchAllPatients()           â”‚
â”‚                            â”œâ”€ fetchPatientDetail()         â”‚
â”‚                            â”œâ”€ fetchVitalsHistory()         â”‚
â”‚                            â”œâ”€ fetchAlerts()                â”‚
â”‚                            â”œâ”€ fetchPatientAlerts()         â”‚
â”‚                            â””â”€ fetchDashboardSummary()      â”‚
â”‚                                                              â”‚
â”‚  Onboarding Screen.dart                                    â”‚
â”‚  Authentication Screen.dart                                â”‚
â”‚  ...other screens...                                       â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP Requests to
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     BACKEND (Python)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  api.py                                                      â”‚
â”‚  â”œâ”€â”€ @app.get("/")                                          â”‚
â”‚  â”œâ”€â”€ @app.get("/patients")                                  â”‚
â”‚  â”œâ”€â”€ @app.get("/patients/{patient_id}")                    â”‚
â”‚  â”œâ”€â”€ @app.get("/vitals/{patient_id}")                      â”‚
â”‚  â”œâ”€â”€ @app.get("/alerts")                                   â”‚
â”‚  â”œâ”€â”€ @app.get("/alerts/{patient_id}")                      â”‚
â”‚  â””â”€â”€ @app.get("/dashboard/summary")                        â”‚
â”‚                                                               â”‚
â”‚  database.py                                                 â”‚
â”‚  â”œâ”€â”€ Creates hospital.db                                   â”‚
â”‚  â””â”€â”€ Initializes tables                                     â”‚
â”‚                                                               â”‚
â”‚  generate_vitals.py                                          â”‚
â”‚  â”œâ”€â”€ Updates vitals table                                  â”‚
â”‚  â””â”€â”€ Every 5 seconds                                       â”‚
â”‚                                                               â”‚
â”‚  ai_predictor.py                                             â”‚
â”‚  â”œâ”€â”€ Reads vitals                                           â”‚
â”‚  â”œâ”€â”€ Makes predictions                                      â”‚
â”‚  â””â”€â”€ Updates predictions table                             â”‚
â”‚                                                               â”‚
â”‚  run_all.py                                                  â”‚
â”‚  â””â”€â”€ Orchestrates all services                             â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Database Operations
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE (SQLite)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  hospital.db                                                  â”‚
â”‚  â”œâ”€â”€ patients table                                           â”‚
â”‚  â”‚   â”œâ”€â”€ patient_id (PRIMARY KEY)                            â”‚
â”‚  â”‚   â”œâ”€â”€ full_name                                           â”‚
â”‚  â”‚   â””â”€â”€ sex                                                 â”‚
â”‚  â”‚                                                            â”‚
â”‚  â”œâ”€â”€ vitals table                                             â”‚
â”‚  â”‚   â”œâ”€â”€ id (PRIMARY KEY)                                    â”‚
â”‚  â”‚   â”œâ”€â”€ patient_id (FOREIGN KEY)                            â”‚
â”‚  â”‚   â”œâ”€â”€ heart_rate_bpm                                      â”‚
â”‚  â”‚   â”œâ”€â”€ temperature_c                                       â”‚
â”‚  â”‚   â”œâ”€â”€ spo2_percent                                        â”‚
â”‚  â”‚   â”œâ”€â”€ health_status                                       â”‚
â”‚  â”‚   â””â”€â”€ timestamp                                           â”‚
â”‚  â”‚                                                            â”‚
â”‚  â”œâ”€â”€ predictions table                                        â”‚
â”‚  â”‚   â”œâ”€â”€ id (PRIMARY KEY)                                    â”‚
â”‚  â”‚   â”œâ”€â”€ patient_id (FOREIGN KEY)                            â”‚
â”‚  â”‚   â”œâ”€â”€ predicted_label (Low Risk / High Risk)             â”‚
â”‚  â”‚   â”œâ”€â”€ confidence                                          â”‚
â”‚  â”‚   â””â”€â”€ timestamp                                           â”‚
â”‚  â”‚                                                            â”‚
â”‚  â””â”€â”€ alerts table                                             â”‚
â”‚      â”œâ”€â”€ id (PRIMARY KEY)                                    â”‚
â”‚      â”œâ”€â”€ patient_id (FOREIGN KEY)                            â”‚
â”‚      â”œâ”€â”€ alert_type                                          â”‚
â”‚      â”œâ”€â”€ message                                             â”‚
â”‚      â””â”€â”€ timestamp                                           â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Information Flow Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   COMPLETE DATA FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATABASE â”€â”€â”¬â”€â”€â–º VITALS GENERATOR â”€â”€â–º DATABASE              (â†“5s)
           â”‚
           â”œâ”€â”€â–º API SERVER â—„â”€â”€â”€â”€ FLUTTER APP              (â†•2s)
           â”‚
           â”œâ”€â”€â–º AI PREDICTOR â”€â”€â–º DATABASE                 (â†“ real-time)
           â”‚
           â””â”€â”€â–º DASHBOARD (Web Browser)                   (â†“ real-time)


KEY TIMINGS:
â€¢ Vitals Generated: Every 5 seconds
â€¢ Mobile App Updates: Every 2 seconds
â€¢ Database Queries: On-demand (< 100ms)
â€¢ API Response: < 500ms
â€¢ Total Latency: < 2 seconds


PATIENT P001 EXAMPLE:
T=0s   â†’ Vitals generated: HR=80, Temp=37.0Â°C, SpO2=98%
T=5s   â†’ Vitals generated: HR=82, Temp=37.1Â°C, SpO2=98%
T=2s   â†’ Mobile app fetches and displays HR=80
T=7s   â†’ Mobile app fetches and displays HR=82
T=10s  â†’ Vitals generated: HR=85, Temp=37.2Â°C, SpO2=98%
T=9s   â†’ Mobile app fetches and displays HR=82 (current)
T=12s  â†’ Mobile app fetches and displays HR=85 (updated)
```

---

**This integration ensures:**
âœ… Real-time data flow from database to mobile app
âœ… Minimal latency (< 2 seconds end-to-end)
âœ… Scalable architecture
âœ… Error handling and fallbacks
âœ… Cross-platform compatibility
